!function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"object"===("undefined"==typeof exports?"undefined":e(exports))&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).ParallelThread=n()}(this,function(){"use strict";function r(t){return"function"==typeof t}function t(t){if(!Worker in window)throw Error("ParallelThread(...) Browser need to support Web Workers");if(!r(t))throw TypeError("ParallelThread(...) first parameter must be function");for(var n=arguments.length,e=new Array(1<n?n-1:0),o=1;o<n;o++)e[o-1]=arguments[o];t=URL.createObjectURL(new Blob(["(".concat(function(t,n){for(var e=arguments.length,o=new Array(2<e?e-2:0),r=2;r<e;r++)o[r-2]=arguments[r];return t.apply(void 0,[n].concat(o))},")(").concat(function(t){this.send=function(t){var n=!1;r(t)&&(t=t.toString(),n=!0),this.postMessage({isFunction:n,msg:t})},this.get=function(n){this.onmessage=function(t){t.data.isFunction&&(t.data.msg=new Function("return (".concat(t.data.msg,")"))(t.data.msg)),n(t.data.msg,t)}};for(var n=arguments.length,e=new Array(1<n?n-1:0),o=1;o<n;o++)e[o-1]=arguments[o];t.apply(void 0,e)},", ").concat(t,", ").concat(e,")")],{type:"application/javascript"}));return this.thread=new Worker(t),this}return t.prototype.disconnect=function(){this.thread.terminate()},t.prototype.send=function(t){var n=!1;r(t)&&(t=t.toString(),n=!0),this.thread.postMessage({isFunction:n,msg:t})},t.prototype.get=function(n){this.thread.onmessage=function(t){t.data.isFunction&&(t.data.msg=new Function("return (".concat(t.data.msg,")"))(t.data.msg)),n(t.data.msg,t)}},t});
